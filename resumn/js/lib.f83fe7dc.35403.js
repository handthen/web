"use strict";(self.webpackChunkwebpack=self.webpackChunkwebpack||[]).push([[272],{20432:(e,t,n)=>{n.d(t,{A:()=>w});var l=n(58168),o=n(60436),u=n(64467),a=n(89379),r=n(5544),i=n(80045),c=n(82284),v=n(48588),f=(n(68210),n(96540)),s=n(87937),d=n(26082),p=n(34164),m=n(3979),A=n(75362),b=n(95207),h=n(26624),S=n(29185),g=n(26707),V=n(9477),k=n(22987),y=n(87501),C=(n(36120),["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"]),M=["inputValue"];var O=f.forwardRef((function(e,t){var n=e.id,h=e.mode,S=e.prefixCls,O=void 0===S?"rc-select":S,w=e.backfill,I=e.fieldNames,x=e.inputValue,D=e.searchValue,F=e.onSearch,E=e.autoClearSearchValue,H=void 0===E||E,P=e.onSelect,N=e.onDeselect,L=e.dropdownMatchSelectWidth,W=void 0===L||L,z=e.filterOption,B=e.filterSort,J=e.optionFilterProp,_=e.optionLabelProp,j=e.options,G=e.children,R=e.defaultActiveFirstOption,X=e.menuItemSelectedIcon,Z=e.virtual,$=e.listHeight,q=void 0===$?200:$,K=e.listItemHeight,Q=void 0===K?20:K,T=e.value,U=e.defaultValue,Y=e.labelInValue,ee=e.onChange,te=(0,i.A)(e,C),ne=(0,m.Ay)(n),le=(0,s.F)(h),oe=!(j||!G),ue=f.useMemo((function(){return(void 0!==z||"combobox"!==h)&&z}),[z,h]),ae=f.useMemo((function(){return(0,y.AZ)(I,oe)}),[JSON.stringify(I),oe]),re=(0,v.A)("",{value:void 0!==D?D:x,postState:function(e){return e||""}}),ie=(0,r.A)(re,2),ce=ie[0],ve=ie[1],fe=(0,A.A)(j,G,ae,J,_),se=fe.valueOptions,de=fe.labelOptions,pe=fe.options,me=f.useCallback((function(e){return(0,k.$r)(e).map((function(e){var t,n,l,o,u,a;(function(e){return!e||"object"!==(0,c.A)(e)})(e)?t=e:(l=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:l);var r,i=se.get(t);i&&(void 0===n&&(n=null==i?void 0:i[_||ae.label]),void 0===l&&(l=null!==(r=null==i?void 0:i.key)&&void 0!==r?r:t),o=null==i?void 0:i.disabled,u=null==i?void 0:i.title);return{label:n,value:t,key:l,disabled:o,title:u}}))}),[ae,_,se]),Ae=(0,v.A)(U,{value:T}),be=(0,r.A)(Ae,2),he=be[0],Se=be[1],ge=f.useMemo((function(){var e,t=me(he);return"combobox"!==h||null!==(e=t[0])&&void 0!==e&&e.value?t:[]}),[he,me,h]),Ve=(0,d.A)(ge,se),ke=(0,r.A)(Ve,2),ye=ke[0],Ce=ke[1],Me=f.useMemo((function(){if(!h&&1===ye.length){var e=ye[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ye.map((function(e){var t;return(0,a.A)((0,a.A)({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[h,ye]),Oe=f.useMemo((function(){return new Set(ye.map((function(e){return e.value})))}),[ye]);f.useEffect((function(){if("combobox"===h){var e,t=null===(e=ye[0])||void 0===e?void 0:e.value;ve((0,k.a4)(t)?String(t):"")}}),[ye]);var we=(0,b.A)((function(e,t){var n,l=null!=t?t:e;return n={},(0,u.A)(n,ae.value,e),(0,u.A)(n,ae.label,l),n})),Ie=f.useMemo((function(){if("tags"!==h)return pe;var e=(0,o.A)(pe);return(0,o.A)(ye).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return se.has(e)})(n)||e.push(we(n,t.label))})),e}),[we,pe,se,ye,h]),xe=(0,p.A)(Ie,ae,ce,ue,J),De=f.useMemo((function(){return"tags"!==h||!ce||xe.some((function(e){return e[J||"value"]===ce}))?xe:[we(ce)].concat((0,o.A)(xe))}),[we,J,h,xe,ce]),Fe=f.useMemo((function(){return B?(0,o.A)(De).sort((function(e,t){return B(e,t)})):De}),[De,B]),Ee=f.useMemo((function(){return(0,y.XJ)(Fe,{fieldNames:ae,childrenAsData:oe})}),[Fe,ae,oe]),He=function(e){var t=me(e);if(Se(t),ee&&(t.length!==ye.length||t.some((function(e,t){var n;return(null===(n=ye[t])||void 0===n?void 0:n.value)!==(null==e?void 0:e.value)})))){var n=Y?t:t.map((function(e){return e.value})),l=t.map((function(e){return(0,y.Bz)(Ce(e.value))}));ee(le?n:n[0],le?l:l[0])}},Pe=f.useState(null),Ne=(0,r.A)(Pe,2),Le=Ne[0],We=Ne[1],ze=f.useState(0),Be=(0,r.A)(ze,2),Je=Be[0],_e=Be[1],je=void 0!==R?R:"combobox"!==h,Ge=f.useCallback((function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source,l=void 0===n?"keyboard":n;_e(t),w&&"combobox"===h&&null!==e&&"keyboard"===l&&We(String(e))}),[w,h]),Re=function(e,t,n){var l=function(){var t,n=Ce(e);return[Y?{label:null==n?void 0:n[ae.label],value:e,key:null!==(t=null==n?void 0:n.key)&&void 0!==t?t:e}:e,(0,y.Bz)(n)]};if(t&&P){var o=l(),u=(0,r.A)(o,2),a=u[0],i=u[1];P(a,i)}else if(!t&&N&&"clear"!==n){var c=l(),v=(0,r.A)(c,2),f=v[0],s=v[1];N(f,s)}},Xe=(0,b.A)((function(e,t){var n,l=!le||t.selected;n=l?le?[].concat((0,o.A)(ye),[e]):[e]:ye.filter((function(t){return t.value!==e})),He(n),Re(e,l),"combobox"===h?We(""):s.F&&!H||(ve(""),We(""))})),Ze=f.useMemo((function(){var e=!1!==Z&&!1!==W;return(0,a.A)((0,a.A)({},fe),{},{flattenOptions:Ee,onActiveValue:Ge,defaultActiveFirstOption:je,onSelect:Xe,menuItemSelectedIcon:X,rawValues:Oe,fieldNames:ae,virtual:e,listHeight:q,listItemHeight:Q,childrenAsData:oe})}),[fe,Ee,Ge,je,Xe,X,Oe,ae,Z,W,q,Q,oe]);return f.createElement(V.A.Provider,{value:Ze},f.createElement(s.A,(0,l.A)({},te,{id:ne,prefixCls:O,ref:t,omitDomProps:M,mode:h,displayValues:Me,onDisplayValuesChange:function(e,t){He(e);var n=t.type,l=t.values;"remove"!==n&&"clear"!==n||l.forEach((function(e){Re(e.value,!1,n)}))},searchValue:ce,onSearch:function(e,t){if(ve(e),We(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===h&&He(e),null==F||F(e));else{var n=(e||"").trim();if(n){var l=Array.from(new Set([].concat((0,o.A)(Oe),[n])));He(l),Re(n,!0),ve("")}}},autoClearSearchValue:H,onSearchSplit:function(e){var t=e;"tags"!==h&&(t=e.map((function(e){var t=de.get(e);return null==t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,o.A)(Oe),(0,o.A)(t))));He(n),n.forEach((function(e){Re(e,!0)}))},dropdownMatchSelectWidth:W,OptionList:g.A,emptyOptions:!Ee.length,activeValue:Le,activeDescendantId:"".concat(ne,"_list_").concat(Je)})))}));O.Option=S.A,O.OptGroup=h.A;const w=O}}]);